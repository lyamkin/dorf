<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Import Google Icon Font-->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <!-- Bootstrap styles -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <!-- Custom Styles -->
    <link rel="stylesheet" href="/styles.css" />
    <title>{% block title %}Default{% endblock %}</title>
  </head>
  <div class="bg-img">
    <div class="container">
        <div class="topnav">
            <nav class="navbar navbar-expand-lg navBG navbar-light">
              <!-- Logo -->
              <a class="navbar-brand" href="/"><img src="/img/dorfLogosmall.png" alt="logo"></a>
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
                <div class="nav-wrapper collapse navbar-collapse" id="navbarNavDropdown">
                    <div class="search-bars mx-auto">
                    <!-- Search Bar -->
                    <ul class="navbar-nav" id="searchBar">
                        <li class="nav-item">
                            <form class="" action="/adsearch">
                                <div class="search-box">                                  
                                    <input
                                    name="result"
                                    class="form-control search-bar"
                                    id="search"
                                    type="search"
                                    placeholder="Search the Dorf..."
                                    required
                                    />
                                    <div>
                                      <!-- Link to Search by Category -->
                                      <a href="/categories">Search by Category</a>
                                    </div>
                                </div>
                            </form>
                        </li>
                    </ul>
                  </div>

                    <!-- Menu Items -->
                    
                    {% if userSession %}
                    <div id="nav-mobile">
                        <ul class="nav d-flex align-items-center justify-content-center">
                          <li class="nav-item">
                            <a class="btn btn-success-olive" href="/postad/add" role="button">Post Ad</a>
                          </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    {% if picture %}
                                    <img
                                    class="nav-image"
                                    src="data:image/jpeg;base64,{{ picture }}"
                                    alt="user picture"
                                    />
                                    {% else %}
                                    <div class="image-placeholder"></div>
                                    {% endif %}
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                    <a class="dropdown-item" href="/myprofile">My Profile</a>
                                    <a class="dropdown-item" href="/mymessages">My Messages</a>
                                    <a class="dropdown-item" href="/ads">My Ads</a>
                                    <a class="dropdown-item" href="/logout">Logout</a>
                                </div>
                            </li>
                        </ul>   
                      </div>
                    {% else %}
                    <ul id="nav-mobile" class="nav d-flex align-items-center justify-content-center">
                        <li class="nav-item register"><a href="/register" class="black-text">Register</a></li>
                        <li class="nav-item"><a href="/login" class="black-text">Login</a></li>
                    </ul>
                    {% endif %}
                </div>
            </nav>
        </div>
    </div>
  </div>
    <!-- Body -->
    {% block content %}{% endblock %}

    <!-- Footer -->
    <footer class="page-footer font-small">
      <div class="footer-copyright text-center py-3">
        &copy; Copyright 2021 by <a href="#">Dorf</a>.
      </div>
    </footer>


    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
      integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
      crossorigin="anonymous"
    ></script>

    {# custom scripts #}
    {% block scripts %}{% endblock %}
    <script src="/../js/scripts.js"></script>
  </body>
</html>
